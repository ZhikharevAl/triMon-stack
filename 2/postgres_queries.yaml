pg_stat_statements:
  query: |
    SELECT
      userid,
      dbid,
      queryid,
      query,
      calls,
      total_time,
      mean_time,
      min_time,
      max_time,
      stddev_time,
      rows,
      shared_blks_hit,
      shared_blks_read,
      shared_blks_dirtied,
      shared_blks_written,
      local_blks_hit,
      local_blks_read,
      local_blks_dirtied,
      local_blks_written,
      temp_blks_read,
      temp_blks_written,
      blk_read_time,
      blk_write_time
    FROM pg_stat_statements
    WHERE query NOT LIKE '%pg_stat_statements%'
    ORDER BY total_time DESC
    LIMIT 100
  metrics:
    - userid:
        usage: "LABEL"
        description: "User ID"
    - dbid:
        usage: "LABEL"
        description: "Database ID"
    - queryid:
        usage: "LABEL"
        description: "Query ID"
    - query:
        usage: "LABEL"
        description: "Query text"
    - calls:
        usage: "COUNTER"
        description: "Number of times executed"
    - total_time:
        usage: "COUNTER"
        description: "Total time spent in the statement"
    - mean_time:
        usage: "GAUGE"
        description: "Mean time spent in the statement"
    - min_time:
        usage: "GAUGE"
        description: "Minimum time spent in the statement"
    - max_time:
        usage: "GAUGE"
        description: "Maximum time spent in the statement"
    - rows:
        usage: "COUNTER"
        description: "Total number of rows retrieved or affected"
    - shared_blks_hit:
        usage: "COUNTER"
        description: "Total number of shared block cache hits"
    - shared_blks_read:
        usage: "COUNTER"
        description: "Total number of shared blocks read"

